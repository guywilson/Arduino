#ifndef _INCL_KPHLOOKUP
#define _INCL_KPHLOOKUP

#define KPH_LOOKUP_BUFFER_SIZE			256

/*
** The diameter of the anonometer blades in metres...
*/
#define BLADE_DIAMETER					 0.1

#define RPS_TO_KPH_SCALE_FACTOR			((3.14159265 * BLADE_DIAMETER * 3600) / 1000)

/******************************************************************************
**
** Calculate the wind speed in kph for values of revolutions per second (rps).
**
** kph = (pi x diameter of anonometer (m) x rps x 3600) / 1000
**
** Revolutions per second (rps) is measured using a reed switch and a magnet attached
** close to the axis of the anonometer blades. If the anonometer blades have a 
** diameter of 10cm (0.1m), then 70 rps is equivalent to a wind speed of 
** ~80 kph (50 mph).
**
** KPH_LOOKUP_BUFFER_SIZE defines the number of slots in our lookup table, and
** therefore the maximum rps that is supported.
**
******************************************************************************/
static float kphLookup[KPH_LOOKUP_BUFFER_SIZE] = 
{
	0.0,
	RPS_TO_KPH_SCALE_FACTOR,
	RPS_TO_KPH_SCALE_FACTOR * 2,
	RPS_TO_KPH_SCALE_FACTOR * 3,
	RPS_TO_KPH_SCALE_FACTOR * 4,
	RPS_TO_KPH_SCALE_FACTOR * 5,
	RPS_TO_KPH_SCALE_FACTOR * 6,
	RPS_TO_KPH_SCALE_FACTOR * 7,
	RPS_TO_KPH_SCALE_FACTOR * 8,
	RPS_TO_KPH_SCALE_FACTOR * 9,
	RPS_TO_KPH_SCALE_FACTOR * 10,
	RPS_TO_KPH_SCALE_FACTOR * 11,
	RPS_TO_KPH_SCALE_FACTOR * 12,
	RPS_TO_KPH_SCALE_FACTOR * 13,
	RPS_TO_KPH_SCALE_FACTOR * 14,
	RPS_TO_KPH_SCALE_FACTOR * 15,
	RPS_TO_KPH_SCALE_FACTOR * 16,
	RPS_TO_KPH_SCALE_FACTOR * 17,
	RPS_TO_KPH_SCALE_FACTOR * 18,
	RPS_TO_KPH_SCALE_FACTOR * 19,
	RPS_TO_KPH_SCALE_FACTOR * 20,
	RPS_TO_KPH_SCALE_FACTOR * 21,
	RPS_TO_KPH_SCALE_FACTOR * 22,
	RPS_TO_KPH_SCALE_FACTOR * 23,
	RPS_TO_KPH_SCALE_FACTOR * 24,
	RPS_TO_KPH_SCALE_FACTOR * 25,
	RPS_TO_KPH_SCALE_FACTOR * 26,
	RPS_TO_KPH_SCALE_FACTOR * 27,
	RPS_TO_KPH_SCALE_FACTOR * 28,
	RPS_TO_KPH_SCALE_FACTOR * 29,
	RPS_TO_KPH_SCALE_FACTOR * 30,
	RPS_TO_KPH_SCALE_FACTOR * 31,
	RPS_TO_KPH_SCALE_FACTOR * 32,
	RPS_TO_KPH_SCALE_FACTOR * 33,
	RPS_TO_KPH_SCALE_FACTOR * 34,
	RPS_TO_KPH_SCALE_FACTOR * 35,
	RPS_TO_KPH_SCALE_FACTOR * 36,
	RPS_TO_KPH_SCALE_FACTOR * 37,
	RPS_TO_KPH_SCALE_FACTOR * 38,
	RPS_TO_KPH_SCALE_FACTOR * 39,
	RPS_TO_KPH_SCALE_FACTOR * 40,
	RPS_TO_KPH_SCALE_FACTOR * 41,
	RPS_TO_KPH_SCALE_FACTOR * 42,
	RPS_TO_KPH_SCALE_FACTOR * 43,
	RPS_TO_KPH_SCALE_FACTOR * 44,
	RPS_TO_KPH_SCALE_FACTOR * 45,
	RPS_TO_KPH_SCALE_FACTOR * 46,
	RPS_TO_KPH_SCALE_FACTOR * 47,
	RPS_TO_KPH_SCALE_FACTOR * 48,
	RPS_TO_KPH_SCALE_FACTOR * 49,
	RPS_TO_KPH_SCALE_FACTOR * 50,
	RPS_TO_KPH_SCALE_FACTOR * 51,
	RPS_TO_KPH_SCALE_FACTOR * 52,
	RPS_TO_KPH_SCALE_FACTOR * 53,
	RPS_TO_KPH_SCALE_FACTOR * 54,
	RPS_TO_KPH_SCALE_FACTOR * 55,
	RPS_TO_KPH_SCALE_FACTOR * 56,
	RPS_TO_KPH_SCALE_FACTOR * 57,
	RPS_TO_KPH_SCALE_FACTOR * 58,
	RPS_TO_KPH_SCALE_FACTOR * 59,
	RPS_TO_KPH_SCALE_FACTOR * 60,
	RPS_TO_KPH_SCALE_FACTOR * 61,
	RPS_TO_KPH_SCALE_FACTOR * 62,
	RPS_TO_KPH_SCALE_FACTOR * 63,
	RPS_TO_KPH_SCALE_FACTOR * 64,
	RPS_TO_KPH_SCALE_FACTOR * 65,
	RPS_TO_KPH_SCALE_FACTOR * 66,
	RPS_TO_KPH_SCALE_FACTOR * 67,
	RPS_TO_KPH_SCALE_FACTOR * 68,
	RPS_TO_KPH_SCALE_FACTOR * 69,
	RPS_TO_KPH_SCALE_FACTOR * 70,
	RPS_TO_KPH_SCALE_FACTOR * 71,
	RPS_TO_KPH_SCALE_FACTOR * 72,
	RPS_TO_KPH_SCALE_FACTOR * 73,
	RPS_TO_KPH_SCALE_FACTOR * 74,
	RPS_TO_KPH_SCALE_FACTOR * 75,
	RPS_TO_KPH_SCALE_FACTOR * 76,
	RPS_TO_KPH_SCALE_FACTOR * 77,
	RPS_TO_KPH_SCALE_FACTOR * 78,
	RPS_TO_KPH_SCALE_FACTOR * 79,
	RPS_TO_KPH_SCALE_FACTOR * 80,
	RPS_TO_KPH_SCALE_FACTOR * 81,
	RPS_TO_KPH_SCALE_FACTOR * 82,
	RPS_TO_KPH_SCALE_FACTOR * 83,
	RPS_TO_KPH_SCALE_FACTOR * 84,
	RPS_TO_KPH_SCALE_FACTOR * 85,
	RPS_TO_KPH_SCALE_FACTOR * 86,
	RPS_TO_KPH_SCALE_FACTOR * 87,
	RPS_TO_KPH_SCALE_FACTOR * 88,
	RPS_TO_KPH_SCALE_FACTOR * 89,
	RPS_TO_KPH_SCALE_FACTOR * 90,
	RPS_TO_KPH_SCALE_FACTOR * 91,
	RPS_TO_KPH_SCALE_FACTOR * 92,
	RPS_TO_KPH_SCALE_FACTOR * 93,
	RPS_TO_KPH_SCALE_FACTOR * 94,
	RPS_TO_KPH_SCALE_FACTOR * 95,
	RPS_TO_KPH_SCALE_FACTOR * 96,
	RPS_TO_KPH_SCALE_FACTOR * 97,
	RPS_TO_KPH_SCALE_FACTOR * 98,
	RPS_TO_KPH_SCALE_FACTOR * 99,
	RPS_TO_KPH_SCALE_FACTOR * 100,
	RPS_TO_KPH_SCALE_FACTOR * 101,
	RPS_TO_KPH_SCALE_FACTOR * 102,
	RPS_TO_KPH_SCALE_FACTOR * 103,
	RPS_TO_KPH_SCALE_FACTOR * 104,
	RPS_TO_KPH_SCALE_FACTOR * 105,
	RPS_TO_KPH_SCALE_FACTOR * 106,
	RPS_TO_KPH_SCALE_FACTOR * 107,
	RPS_TO_KPH_SCALE_FACTOR * 108,
	RPS_TO_KPH_SCALE_FACTOR * 109,
	RPS_TO_KPH_SCALE_FACTOR * 110,
	RPS_TO_KPH_SCALE_FACTOR * 111,
	RPS_TO_KPH_SCALE_FACTOR * 112,
	RPS_TO_KPH_SCALE_FACTOR * 113,
	RPS_TO_KPH_SCALE_FACTOR * 114,
	RPS_TO_KPH_SCALE_FACTOR * 115,
	RPS_TO_KPH_SCALE_FACTOR * 116,
	RPS_TO_KPH_SCALE_FACTOR * 117,
	RPS_TO_KPH_SCALE_FACTOR * 118,
	RPS_TO_KPH_SCALE_FACTOR * 119,
	RPS_TO_KPH_SCALE_FACTOR * 120,
	RPS_TO_KPH_SCALE_FACTOR * 121,
	RPS_TO_KPH_SCALE_FACTOR * 122,
	RPS_TO_KPH_SCALE_FACTOR * 123,
	RPS_TO_KPH_SCALE_FACTOR * 124,
	RPS_TO_KPH_SCALE_FACTOR * 125,
	RPS_TO_KPH_SCALE_FACTOR * 126,
	RPS_TO_KPH_SCALE_FACTOR * 127,
	RPS_TO_KPH_SCALE_FACTOR * 128,
	RPS_TO_KPH_SCALE_FACTOR * 129,
	RPS_TO_KPH_SCALE_FACTOR * 130,
	RPS_TO_KPH_SCALE_FACTOR * 131,
	RPS_TO_KPH_SCALE_FACTOR * 132,
	RPS_TO_KPH_SCALE_FACTOR * 133,
	RPS_TO_KPH_SCALE_FACTOR * 134,
	RPS_TO_KPH_SCALE_FACTOR * 135,
	RPS_TO_KPH_SCALE_FACTOR * 136,
	RPS_TO_KPH_SCALE_FACTOR * 137,
	RPS_TO_KPH_SCALE_FACTOR * 138,
	RPS_TO_KPH_SCALE_FACTOR * 139,
	RPS_TO_KPH_SCALE_FACTOR * 140,
	RPS_TO_KPH_SCALE_FACTOR * 141,
	RPS_TO_KPH_SCALE_FACTOR * 142,
	RPS_TO_KPH_SCALE_FACTOR * 143,
	RPS_TO_KPH_SCALE_FACTOR * 144,
	RPS_TO_KPH_SCALE_FACTOR * 145,
	RPS_TO_KPH_SCALE_FACTOR * 146,
	RPS_TO_KPH_SCALE_FACTOR * 147,
	RPS_TO_KPH_SCALE_FACTOR * 148,
	RPS_TO_KPH_SCALE_FACTOR * 149,
	RPS_TO_KPH_SCALE_FACTOR * 150,
	RPS_TO_KPH_SCALE_FACTOR * 151,
	RPS_TO_KPH_SCALE_FACTOR * 152,
	RPS_TO_KPH_SCALE_FACTOR * 153,
	RPS_TO_KPH_SCALE_FACTOR * 154,
	RPS_TO_KPH_SCALE_FACTOR * 155,
	RPS_TO_KPH_SCALE_FACTOR * 156,
	RPS_TO_KPH_SCALE_FACTOR * 157,
	RPS_TO_KPH_SCALE_FACTOR * 158,
	RPS_TO_KPH_SCALE_FACTOR * 159,
	RPS_TO_KPH_SCALE_FACTOR * 160,
	RPS_TO_KPH_SCALE_FACTOR * 161,
	RPS_TO_KPH_SCALE_FACTOR * 162,
	RPS_TO_KPH_SCALE_FACTOR * 163,
	RPS_TO_KPH_SCALE_FACTOR * 164,
	RPS_TO_KPH_SCALE_FACTOR * 165,
	RPS_TO_KPH_SCALE_FACTOR * 166,
	RPS_TO_KPH_SCALE_FACTOR * 167,
	RPS_TO_KPH_SCALE_FACTOR * 168,
	RPS_TO_KPH_SCALE_FACTOR * 169,
	RPS_TO_KPH_SCALE_FACTOR * 170,
	RPS_TO_KPH_SCALE_FACTOR * 171,
	RPS_TO_KPH_SCALE_FACTOR * 172,
	RPS_TO_KPH_SCALE_FACTOR * 173,
	RPS_TO_KPH_SCALE_FACTOR * 174,
	RPS_TO_KPH_SCALE_FACTOR * 175,
	RPS_TO_KPH_SCALE_FACTOR * 176,
	RPS_TO_KPH_SCALE_FACTOR * 177,
	RPS_TO_KPH_SCALE_FACTOR * 178,
	RPS_TO_KPH_SCALE_FACTOR * 179,
	RPS_TO_KPH_SCALE_FACTOR * 180,
	RPS_TO_KPH_SCALE_FACTOR * 181,
	RPS_TO_KPH_SCALE_FACTOR * 182,
	RPS_TO_KPH_SCALE_FACTOR * 183,
	RPS_TO_KPH_SCALE_FACTOR * 184,
	RPS_TO_KPH_SCALE_FACTOR * 185,
	RPS_TO_KPH_SCALE_FACTOR * 186,
	RPS_TO_KPH_SCALE_FACTOR * 187,
	RPS_TO_KPH_SCALE_FACTOR * 188,
	RPS_TO_KPH_SCALE_FACTOR * 189,
	RPS_TO_KPH_SCALE_FACTOR * 190,
	RPS_TO_KPH_SCALE_FACTOR * 191,
	RPS_TO_KPH_SCALE_FACTOR * 192,
	RPS_TO_KPH_SCALE_FACTOR * 193,
	RPS_TO_KPH_SCALE_FACTOR * 194,
	RPS_TO_KPH_SCALE_FACTOR * 195,
	RPS_TO_KPH_SCALE_FACTOR * 196,
	RPS_TO_KPH_SCALE_FACTOR * 197,
	RPS_TO_KPH_SCALE_FACTOR * 198,
	RPS_TO_KPH_SCALE_FACTOR * 199,
	RPS_TO_KPH_SCALE_FACTOR * 200,
	RPS_TO_KPH_SCALE_FACTOR * 201,
	RPS_TO_KPH_SCALE_FACTOR * 202,
	RPS_TO_KPH_SCALE_FACTOR * 203,
	RPS_TO_KPH_SCALE_FACTOR * 204,
	RPS_TO_KPH_SCALE_FACTOR * 205,
	RPS_TO_KPH_SCALE_FACTOR * 206,
	RPS_TO_KPH_SCALE_FACTOR * 207,
	RPS_TO_KPH_SCALE_FACTOR * 208,
	RPS_TO_KPH_SCALE_FACTOR * 209,
	RPS_TO_KPH_SCALE_FACTOR * 210,
	RPS_TO_KPH_SCALE_FACTOR * 211,
	RPS_TO_KPH_SCALE_FACTOR * 212,
	RPS_TO_KPH_SCALE_FACTOR * 213,
	RPS_TO_KPH_SCALE_FACTOR * 214,
	RPS_TO_KPH_SCALE_FACTOR * 215,
	RPS_TO_KPH_SCALE_FACTOR * 216,
	RPS_TO_KPH_SCALE_FACTOR * 217,
	RPS_TO_KPH_SCALE_FACTOR * 218,
	RPS_TO_KPH_SCALE_FACTOR * 219,
	RPS_TO_KPH_SCALE_FACTOR * 220,
	RPS_TO_KPH_SCALE_FACTOR * 221,
	RPS_TO_KPH_SCALE_FACTOR * 222,
	RPS_TO_KPH_SCALE_FACTOR * 223,
	RPS_TO_KPH_SCALE_FACTOR * 224,
	RPS_TO_KPH_SCALE_FACTOR * 225,
	RPS_TO_KPH_SCALE_FACTOR * 226,
	RPS_TO_KPH_SCALE_FACTOR * 227,
	RPS_TO_KPH_SCALE_FACTOR * 228,
	RPS_TO_KPH_SCALE_FACTOR * 229,
	RPS_TO_KPH_SCALE_FACTOR * 230,
	RPS_TO_KPH_SCALE_FACTOR * 231,
	RPS_TO_KPH_SCALE_FACTOR * 232,
	RPS_TO_KPH_SCALE_FACTOR * 233,
	RPS_TO_KPH_SCALE_FACTOR * 234,
	RPS_TO_KPH_SCALE_FACTOR * 235,
	RPS_TO_KPH_SCALE_FACTOR * 236,
	RPS_TO_KPH_SCALE_FACTOR * 237,
	RPS_TO_KPH_SCALE_FACTOR * 238,
	RPS_TO_KPH_SCALE_FACTOR * 239,
	RPS_TO_KPH_SCALE_FACTOR * 240,
	RPS_TO_KPH_SCALE_FACTOR * 241,
	RPS_TO_KPH_SCALE_FACTOR * 242,
	RPS_TO_KPH_SCALE_FACTOR * 243,
	RPS_TO_KPH_SCALE_FACTOR * 244,
	RPS_TO_KPH_SCALE_FACTOR * 245,
	RPS_TO_KPH_SCALE_FACTOR * 246,
	RPS_TO_KPH_SCALE_FACTOR * 247,
	RPS_TO_KPH_SCALE_FACTOR * 248,
	RPS_TO_KPH_SCALE_FACTOR * 249,
	RPS_TO_KPH_SCALE_FACTOR * 250,
	RPS_TO_KPH_SCALE_FACTOR * 251,
	RPS_TO_KPH_SCALE_FACTOR * 252,
	RPS_TO_KPH_SCALE_FACTOR * 253,
	RPS_TO_KPH_SCALE_FACTOR * 254,
	RPS_TO_KPH_SCALE_FACTOR * 255
};

#endif